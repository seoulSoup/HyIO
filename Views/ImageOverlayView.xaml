<UserControl x:Class="HyIO.Views.ImageOverlayView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 상단 검색 영역 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
            <TextBox x:Name="SearchBox"
                     Width="260"
                     Height="32"
                     Padding="8,4"
                     VerticalAlignment="Center"
                     FontFamily="{StaticResource AppFontFamily}"
                     Foreground="{StaticResource AppTextPrimaryBrush}"
                     Background="{StaticResource AppSurfaceAltBrush}"
                     BorderBrush="{StaticResource AppBorderBrush}"
                     BorderThickness="1"
                     TextChanged="SearchBox_TextChanged"/>
            <TextBlock Text="  Enter 또는 더블클릭으로 복사 / 붙여넣기"
                       VerticalAlignment="Center"
                       Margin="12,0,0,0"
                       Foreground="{StaticResource AppTextSecondaryBrush}"
                       FontFamily="{StaticResource AppFontFamily}"
                       FontSize="12"/>
        </StackPanel>

        <!-- 이미지 썸네일 리스트 -->
        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto">
            <ItemsControl x:Name="ImageItemsControl">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel IsItemsHost="True" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Click="ImageButton_Click"
                                Margin="4"
                                Padding="0"
                                BorderThickness="0"
                                Background="Transparent">
                            <Border Width="160"
                                    Margin="4"
                                    Padding="8"
                                    CornerRadius="12"
                                    Background="{StaticResource AppSurfaceAltBrush}">
                                <StackPanel>
                                    <Image Source="{Binding Thumbnail}"
                                           Width="144" Height="96"
                                           Stretch="UniformToFill"
                                           Margin="0,0,0,8"
                                           SnapsToDevicePixels="True"/>
                                    <TextBlock Text="{Binding FileName}"
                                               Foreground="{StaticResource AppTextPrimaryBrush}"
                                               FontSize="12"
                                               FontFamily="{StaticResource AppFontFamily}"
                                               TextTrimming="CharacterEllipsis"/>
                                    <TextBlock Text="{Binding TagsText}"
                                               Foreground="{StaticResource AppTextSecondaryBrush}"
                                               FontSize="11"
                                               Margin="0,2,0,0"
                                               FontFamily="{StaticResource AppFontFamily}"
                                               TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                            </Border>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</UserControl>
